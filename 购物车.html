<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
        *{ margin:0; padding:0;}
        #box{ width:888px; height:250px; margin:20px auto;}
        #box div{ width:200px; height:100px; margin:10px; border:1px solid black; float:left; }
        #box div button{ width:50px; height:20px; background: orange; font-size: 8px;}
    </style>
    <script src="./js/jquery-1.10.1.js"></script>
    <script src="./js/jquery.cookie.js"></script>
    <script>
        $(function(){
            var oBox = $("#box");

            oBox.on("click","button",function(){
               var id = this.id;
               var first = $.cookie("goods") == null ? true : false;
               if(first){
                    var arr = [{id:id,num:1}];
                    $.cookie("goods",JSON.stringify(arr),{
                        expires: 7
                    })
               }else{
                   var cookieStr = $.cookie("goods");
                   alert(cookieStr);
                   var cookieArr = JSON.parse(cookieStr);
                   var same = false;
                   for(var i=0; i<cookieArr.length; i++){
                       if(id == cookieArr[i].id){
                            same = true;
                            cookieArr[i].num ++;
                            break;
                       }
                   }
                   if(!same){
                       cookieArr.push({id:id,num:1});
                   }

                   $.cookie("goods",JSON.stringify(cookieArr),{
                       expires: 7
                   })
               }
            })
        })
    </script>
</head>
<body>
    <div id="box">
        <div><button id="0">加入购物车</button></div>
        <div><button id="1">加入购物车</button></div>
        <div><button id="2">加入购物车</button></div>
        <div><button id="3">加入购物车</button></div>
        <div><button id="4">加入购物车</button></div>
        <div><button id="5">加入购物车</button></div>
        <div><button id="6">加入购物车</button></div>
        <div><button id="7">加入购物车</button></div>
    </div>
</body>
</html>